<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel = "stylesheet" href = "./style.css">
</head>
<body>
   <div class="container">
    <p>Wanna play a game</p>
    <button class ="rock"></button>
    <button id ="paper"></button>
    <button id ="scissors">Scissors</button>
   </div>
    <script>
        window.addEventListener('load', () => {
            alert('Welcome to Rock Paper Scissors\nPick your first choice and the game will start')
        });
        let you = 0;
        let comp = 0;
        const rock = document.querySelector(".rock"); //could also just use queryselector
        let paper = document.querySelector("#paper");
        
        rock.textContent = 'Rock';
        paper.textContent = 'Paper';

        let scissors = document.querySelector('#scissors');

        const container = document.querySelector(".container");
        const result = document.createElement("div");
        result.classList.add("result");
        result.textContent = "Result: ";
        container.appendChild(result);

        
        rock.addEventListener('click', ()=> round('rock'));// ()=> round());
        paper.addEventListener('click', ()=>round('paper'));
        scissors.addEventListener('click', ()=>round('scissors'));
        
        function getComputerChoice(){
            let choices = ["rock", "paper","scissors"];
            //length = 3
            let i  = Math.floor(Math.random() * (choices.length - 1)); // returns random int from 0 to 2
            return(choices[i]);
        }
        function getPlayerChoice() {
            let choice = prompt("Rock, Paper, or Scissors?");
            if (choice != null) {
                choice = choice.toLowerCase();
            }
            console.log(choice);
            return choice;
        }
        
        function round(playerSelection) {
            let choices = ["rock", "paper","scissors"];
            console.log('Round!');
            computerSelection = getComputerChoice();
            console.log(playerSelection);
            console.log(computerSelection);

            if (playerSelection != null) {
                playerSelection = playerSelection.toLowerCase();
            }
            let winner = "";
            
            if (playerSelection == computerSelection) {
                console.log("Tie, no points this round")
                    //return("tie")
            }
            else if (playerSelection == "scissors") {
                if (computerSelection == "rock"){
                    console.log("You lose this round! Rock beats Scissors");
                    comp++;
                    console.log("comp",comp);
                    //winner = "computer";
                    //return(winner);
                }
                else if (computerSelection =="paper") { 
                    console.log("You win this round! Scissors beats Paper");
                    you++;
                    console.log("you",you);
                    //winner = "you";
                    //return(winner);
                }
            }
            else if (playerSelection == "paper") {
                if (computerSelection == "rock"){
                    console.log("You win this round! Paper beats Rock");
                    you++;
                    console.log("you", you);
                    //winner = "you";
                    //return(winner);
                }
                else if (computerSelection =="scissors") { 
                    console.log("You lose this round! Scissors beats Paper");
                    comp++;
                    //winner = "computer";
                    //return(winner);
                    console.log("comp", comp);
                }
            }
            else if (playerSelection == "rock") {
                if (computerSelection == "paper"){
                    console.log("You lose this round! Paper beats Rock");
                    comp++;
                    console.log("comp",comp);
                    //winner = "computer";
                    //return(winner);
                    
                }
                else if (computerSelection =="scissors") { 
                    console.log("You win this round! Rock beats Scissors");
                    you++;
                    console.log("you",you);
                  
                }
            }
            result.textContent = "Result: You: "+ you+ " Comp: "+ comp;
            if (you == 5) {
                console.log("Congratulations, You Win \n resetting the points");
                result.textContent = "Congratulations, You Win. resetting the points";
                you = 0;
                comp = 0;
            } else if (comp == 5) {
                console.log("You lost \n resetting the points");
                result.textContent = "Congratulations, You Win. resetting the points";
                you = 0;
                comp = 0;
            }
           
            container.appendChild(result);
        }
        
    </script>
</body>
</html>